<UserControl x:Class="SPS.App.Views.Controls.ParameterControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             MinWidth="260">
    <UserControl.Resources>
        <Style TargetType="Thumb">
            <Setter Property="Width" Value="14" />
            <Setter Property="Height" Value="14" />
        </Style>
        <Style TargetType="RepeatButton">
            <Setter Property="Width" Value="28" />
            <Setter Property="Height" Value="22" />
            <Setter Property="Margin" Value="0,2" />
            <Setter Property="Foreground" Value="#E6EAF2" />
            <Setter Property="Background" Value="#243042" />
            <Setter Property="BorderBrush" Value="#2D3A4A" />
            <Setter Property="BorderThickness" Value="1" />
        </Style>
        <Style TargetType="TextBox">
            <Setter Property="Foreground" Value="#E6EAF2" />
            <Setter Property="Background" Value="#202634" />
            <Setter Property="BorderBrush" Value="#2F3A4A" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
            <Setter Property="HorizontalContentAlignment" Value="Right" />
            <Setter Property="FontSize" Value="13" />
            <Setter Property="Padding" Value="4,1" />
        </Style>
    </UserControl.Resources>
    <Grid Margin="0,4">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>

        <StackPanel Grid.Row="0"
                    Grid.ColumnSpan="3"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Margin="0,0,0,4">
            <TextBlock Text="{Binding FormattedValue, RelativeSource={RelativeSource AncestorType=UserControl}}"
                       Foreground="#E6EAF2"
                       FontSize="14"
                       FontWeight="SemiBold"
                       Margin="0,0,6,0" />
            <TextBlock Text="{Binding Unit, RelativeSource={RelativeSource AncestorType=UserControl}}"
                       Foreground="#A9B4C2" />
        </StackPanel>

        <Slider x:Name="ValueSlider"
                Grid.Row="1"
                Grid.Column="0"
                Height="32"
                Minimum="{Binding Minimum, RelativeSource={RelativeSource AncestorType=UserControl}}"
                Maximum="{Binding Maximum, RelativeSource={RelativeSource AncestorType=UserControl}}"
                Value="{Binding Value, RelativeSource={RelativeSource AncestorType=UserControl}, Mode=TwoWay, Delay=100}"
                TickFrequency="{Binding Step, RelativeSource={RelativeSource AncestorType=UserControl}}"
                SmallChange="{Binding SmallStep, RelativeSource={RelativeSource AncestorType=UserControl}}"
                LargeChange="{Binding LargeStep, RelativeSource={RelativeSource AncestorType=UserControl}}"
                IsSnapToTickEnabled="True"
                IsMoveToPointEnabled="True"
                TickPlacement="BottomRight">
            <Slider.Resources>
                <Style TargetType="Track">
                    <Setter Property="Height" Value="8" />
                </Style>
            </Slider.Resources>
        </Slider>

        <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Vertical" Margin="12,0,0,0" VerticalAlignment="Center">
            <RepeatButton x:Name="IncreaseButton" Content="+" Click="OnIncreaseClicked" />
            <RepeatButton x:Name="DecreaseButton" Content="-" Click="OnDecreaseClicked" />
        </StackPanel>

        <StackPanel Grid.Row="1" Grid.Column="2" Orientation="Horizontal" Margin="12,0,0,0" VerticalAlignment="Center">
            <TextBox x:Name="NumericTextBox"
                     Width="80"
                     PreviewKeyDown="NumericTextBox_OnPreviewKeyDown"
                     PreviewMouseWheel="NumericTextBox_OnPreviewMouseWheel"
                     LostFocus="NumericTextBox_OnLostFocus" />
            <TextBlock Text="{Binding Unit, RelativeSource={RelativeSource AncestorType=UserControl}}"
                       Foreground="#E6EAF2"
                       VerticalAlignment="Center"
                       Margin="6,0,0,0" />
        </StackPanel>

        <Grid Grid.Row="2"
              Grid.ColumnSpan="3"
              Margin="0,6,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <TextBlock Grid.Column="0"
                       Text="{Binding Minimum, RelativeSource={RelativeSource AncestorType=UserControl}, StringFormat=Min {0:0.###}}"
                       Foreground="#5E6A7C" />
            <TextBlock Grid.Column="2"
                       Text="{Binding Maximum, RelativeSource={RelativeSource AncestorType=UserControl}, StringFormat=Max {0:0.###}}"
                       Foreground="#5E6A7C" />
        </Grid>
    </Grid>
</UserControl>
